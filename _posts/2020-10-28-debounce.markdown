---
layout: post
title:  "Javascipt Debounce Function | JS函数防抖"
date:   2020-10-28 19:00:41 +0800
categories: snippet
comments: true
---

## Javascipt Debounce Function

<!--more-->

```javascript
function debounce(fn, wait, immediate) {
  let timer = null;
  return function() {
    const context = this;
    const args = arguments;
    if (!timer && immediate) fn.apply(context, args);
    if (timer) clearTimeout(timer);
    const later = function() {
      timer = null;
      if (!immediate) fn.apply(context, args);
    }
    timer = setTimeout(later, wait);
  }
}
```

## 测试代码

```html
<button id="debounce">debounce</button>
```

```javascript
function testDebounce() {
  console.log('Dounce Works');
}

document.getElementById('debounce').addEventListener('click', debounce(testDebounce, 1000, true));
```
